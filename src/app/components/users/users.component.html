<div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4 dark:text-white">Users Management</h1>
    
    <!-- User Form -->
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="mb-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <input formControlName="name" placeholder="Name" class="border p-2 rounded dark:bg-gray-800 dark:text-white">
        <input formControlName="email" placeholder="Email" class="border p-2 rounded dark:bg-gray-800 dark:text-white">
        <select formControlName="role" class="border p-2 rounded dark:bg-gray-800 dark:text-white">
          <option value="Admin">Admin</option>
          <option value="User">User</option>
        </select>
        <select formControlName="status" class="border p-2 rounded dark:bg-gray-800 dark:text-white">
          <option value="Active">Active</option>
          <option value="Suspended">Suspended</option>
        </select>
      </div>
      <button 
        type="submit" 
        [disabled]="userForm.invalid || isLoading || isAddDisabled"
        [title]="tooltipMessage"
        class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-400"
      >
        {{ isLoading ? 'Creating...' : 'Add User' }}
      </button>
    </form>
  
    <!-- Users Table -->
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white dark:bg-gray-800 border">
        <thead>
          <tr class="bg-gray-100 dark:bg-gray-700">
            <th class="px-4 py-2">Name</th>
            <th class="px-4 py-2">Email</th>
            <th class="px-4 py-2">Role</th>
            <th class="px-4 py-2">Status</th>
            <th class="px-4 py-2">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users" class="border-t">
            <td class="px-4 py-2">{{ user.name }}</td>
            <td class="px-4 py-2">{{ user.email }}</td>
            <td class="px-4 py-2">{{ user.role }}</td>
            <td class="px-4 py-2">{{ user.status }}</td>
            <td class="px-4 py-2">
              <button class="text-blue-500 hover:underline" (click)="resetPassword(user.id)">Reset Password</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  
    <div *ngIf="isLoading" class="text-center">
      <div class="inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"></div>
    </div>
  </div>